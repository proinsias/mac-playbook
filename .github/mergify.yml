---
queue_rules:
  - name: default
    conditions:
      # Conditions to get out of the queue (= merged)
      - check-success-or-neutral=Ansible Lint
      - check-success-or-neutral=Check code quality
      - check-success-or-neutral=Deadpendency Check
      - check-success-or-neutral=GitHub Actions
      - check-success-or-neutral=Hound

pull_request_rules:
  - name: automatic merge on CI success and review
    conditions:
      - base=master
      - author~=github-actions
      - check-success-or-neutral=Ansible Lint
      - check-success-or-neutral=Check code quality
      - check-success-or-neutral=Deadpendency Check
      - check-success-or-neutral=GitHub Actions
      - check-success-or-neutral=Hound
    actions:
      queue:
        method: merge
        name: default
  - name: automatic merge for Dependabot pull requests
    conditions:
      - base=master
      - author~=dependabot
      - check-success-or-neutral=Ansible Lint
      - check-success-or-neutral=Check code quality
      - check-success-or-neutral=Deadpendency Check
      - check-success-or-neutral=GitHub Actions
      - check-success-or-neutral=Hound
    actions:
      queue:
        method: merge
        name: default
  - name: warn on conflicts
    conditions:
      - conflict
    actions:
      comment:
        message: "@{{author}} this pull request is now in conflict ðŸ˜©"
      label:
        add:
          - conflict
